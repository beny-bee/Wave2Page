{% extends 'layout.html' %}
{% set active_page = "home" %}


{% block body %}
<div class="jumbotron">
    <span>
      <h1 class="display-4">{{ app_data['html_title'] }}</h1>
      <h5>by {{ app_data['author'] }}</h5>
    </span>

    <hr class="my-4">

    <div class="parent">
      <form id="form_upload" class="form-group" method="POST" action="/upload" enctype="multipart/form-data">
        <input type="file" name="file" class="form-control">
        <input id="upload_button" type="submit" class="custom-button" value="Upload" onclick="loading();">
    </form>
    </div>

    <div id="loader">
      <h5>Loading...</h5>
    </div>

    {% if filename%}
        <p>The file '{{ filename }}' was successfully uploaded.</p>

        {% for image in png_files %}
          <img src="{{image}}" alt="{{image}}" height="1000">
        {% endfor %}
        
    {% endif %}

    <style>
      div#loader {
        border: 16px solid #f3f3f3;
        border-top: 16px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: none;
        animation: spin 2s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      .parent_center {
        margin: 1rem;
        padding: 2rem 2rem;
        text-align: center;
      }
      .parent {
        margin: 1rem;
        padding: 2rem 2rem;
        text-align: left;
      }
      .child {
        display: inline-block;
        padding: 1rem 1rem;
        vertical-align: middle;
      }
      .form-group {
        display: flex;
        align-items: center; /* This ensures vertical alignment */
        justify-content: space-between; /* Adjusts horizontal spacing */
      }
    
      .custom-button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px; /* Adjust as needed */
        line-height: 1.5; /* Adjust as needed */
    }
    
    input[type="file"] {
        font-size: 16px; /* Match the button's font-size */
        line-height: 1.5; /* Match the button's line-height */
        padding: 10px 20px; /* Match the button's padding */
        border-radius: 4px; /* Match the button's border-radius */
        border: 1px solid #ddd; /* Optional: if you want to match the button's border */
        margin-right: 8px; /* Optional: to give some space between the file input and the button */
        height: auto; /* To ensure the natural height based on padding and font size */
        -webkit-appearance: none; /* Removes the default styling on Webkit browsers */
        -moz-appearance: none; /* Removes the default styling on Firefox */
        appearance: none; /* Removes the default styling */
    }
    
    /* Style adjustments for the file input to visually match the button */
    input[type="file"]::-webkit-file-upload-button {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-size: 16px;
        line-height: 1.5;
    }
    
    .form-group {
        display: flex;
        align-items: center;
    }
    
    /* If you want to vertically center everything in case of line-height differences */
    .form-group * {
        vertical-align: middle;
    }
        
    </style>

    <script type="text/javascript">
      function loading(){
          $("#loader").show();  
      }
    </script>

  </div>
{% endblock %}
